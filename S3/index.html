<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>翌日天気slack通知アプリ</title>
    <link href="/css/training-dev-weather-to-slack.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script>
        //document.getElementsByTagName("h1")[0].style.fontSize = "1.5vw";

        $(function() {
        $('#btnSend').on('click', function() {
            const prefecture = document.getElementById("pref").value;
	        const prefe = document.getElementById("myId_2");
            const myp = document.getElementById("myId");
            const apiUrl = "https://fqw9c585h9.execute-api.ap-northeast-1.amazonaws.com/dev/places";
            const data = {
                'prefecture': prefecture,
            };

            prefe.innerHTML = '「' + prefecture + '」' + 'を選択しました!';
            myp.innerHTML = "入力が完了しました！";


            $.ajax({
                    url:apiUrl, //送信先のURL
                    type: 'POST',
                    dataType: 'json',
                    data: JSON.stringify(data)
                })

                .done(function(response, textStatus, jqXHR) {
                    alert('成功しました');
                })
                .fail(function(jqXHR, textStatus, errorThrown) {
                    alert('エラーです');
                })

        });
        });   
    </script>
</head>

<body>
    <header>
        <h1 class="headline">
            <a>翌日天気slack通知アプリ</a>
        </h1>
    </header>
    
    <p id="myId">都道府県を選択してください</p>
    <p id="myId_2">選択した都道府県がここに表示されます</p>

    <form action="#" method="post" name="form1">
    <p>
      <select name="prefecture" id="pref">
          <option value="北海道/釧路">北海道/釧路</option>
          <option value="北海道/旭川">北海道/旭川</option>
          <option value="北海道/札幌">北海道/札幌</option>
          <option value="青森県">青森県</option>
          <option value="岩手県">岩手県</option>
          <option value="宮城県">宮城県</option>
          <option value="秋田県">秋田県</option>
          <option value="山形県">山形県</option>
          <option value="福島県">福島県</option>
          <option value="茨城県">茨城県</option>
          <option value="栃木県">栃木県</option>
          <option value="群馬県">群馬県</option>
          <option value="埼玉県">埼玉県</option>
          <option value="千葉県">千葉県</option>
          <option value="東京都">東京都</option>
          <option value="神奈川県">神奈川県</option>
          <option value="新潟県">新潟県</option>
          <option value="富山県">富山県</option>
          <option value="石川県">石川県</option>
          <option value="福井県">福井県</option>
          <option value="山梨県">山梨県</option>
          <option value="長野県">長野県</option>
          <option value="岐阜県">岐阜県</option>
          <option value="静岡県">静岡県</option>
          <option value="愛知県">愛知県</option>
          <option value="三重県">三重県</option>
          <option value="滋賀県">滋賀県</option>
          <option value="京都府">京都府</option>
          <option value="大阪府">大阪府</option>
          <option value="兵庫県">兵庫県</option>
          <option value="奈良県">奈良県</option>
          <option value="和歌山県">和歌山県</option>
          <option value="鳥取県">鳥取県</option>
          <option value="島根県">島根県</option>
          <option value="岡山県">岡山県</option>
          <option value="広島県">広島県</option>
          <option value="山口県">山口県</option>
          <option value="徳島県">徳島県</option>
          <option value="香川県">香川県</option>
          <option value="愛媛県">愛媛県</option>
          <option value="高知県">高知県</option>
          <option value="福岡県">福岡県</option>
          <option value="佐賀県">佐賀県</option>
          <option value="長崎県">長崎県</option>
          <option value="熊本県">熊本県</option>
          <option value="大分県">大分県</option>
          <option value="宮崎県">宮崎県</option>
          <option value="鹿児島県">鹿児島県</option>
          <option value="沖縄県/那覇">沖縄県/那覇</option>
          <option value="沖縄県/石垣">沖縄県/石垣</option>
        </select>
    </p>
    <button type="button" id='btnSend'>決定</button>
    </form>  
</body>
</html>